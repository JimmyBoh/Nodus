
var path = require('path');

var yuiPath = path.resolve(__dirname + '/../support/yuicompressor-2.4.7.jar');
var uglifyPath = path.resolve(__dirname + '/../support/uglify/bin/uglifyjs');

var fileTypes = {
   js:/\.js$/,
   css:/\.css$/
};

exports.fileType = function(file) {
   for (key in fileTypes) {
      if (fileTypes[key].test(file))
         return key;
   }; return '';
};

exports.yui = function(options, type) {
   var args = [
      '-jar',
      '-Xss2048k',
      yuiPath
   ];

   if (type) args.push('--type', type);
   if (options) args.push(options);

   return {
      command:'java',
      args:args
   };
};

exports.uglify = function(options) {
   var args = [];

   if (options) args.push(options);

   return {
      command:uglifyPath,
      args:args
   };
};
